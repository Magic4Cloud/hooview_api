<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hooview.api.dao.UuidDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="com.hooview.api.entity.UuidEntity" id="codeMap">
        <result property="uuid" column="uuid"/>
        <result property="expiretime" column="expiretime"/>
    </resultMap>

	<select id="queryObject" resultType="com.hooview.api.entity.UuidEntity">
		select * from tb_uuid where uuid = #{value} and expiretime >= now() limit 1;
	</select>
	 
	<insert id="save" parameterType="com.hooview.api.entity.UuidEntity" useGeneratedKeys="true" keyProperty="uuid">
		insert into tb_uuid
		(
			`uuid`,
			`expiretime`
		)
		values
		(
			#{uuid},
			#{expiretime}
		)
	</insert>
	 

	<delete id="delete">
		delete from tb_uuid where uuid= #{value}
	</delete>
	


</mapper>